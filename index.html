<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>This is the client page</title>
    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.3.min.js"></script>
</head>
<body>
    <div>
        Hello.<br/>
        Welcome to the client.<br/>
        <input type="button" value="Login here" id="btnAuthCodeLogin"/> 
        <br/>
        <div id="result"></div>
    </div>
    <script type="text/javascript">
        $(function () {

            $("#btnAuthCodeLogin").on('click', function(e){
                  var jqxhr = $.get( "authRedirect", function(response) {
                  // TODO should be redirected here
                  //$("#result").text("Something went right!")
                }).always(function(response) {
                    //$("#result").text(response.getResponseHeader("URI"));
                    if (/3\d\d/.test(response.status) && response.getResponseHeader("URI")) { // status code is in the 300-range
                        window.location = response.getResponseHeader("URI");
                    }
                    
                }); 

            });

          
         

        });

       
       
       


    </script>
</body>
</html>
